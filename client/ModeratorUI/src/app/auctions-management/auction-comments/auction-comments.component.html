<ng-container *ngIf="auction">
  <div class=" d-flex justify-content-between">
    <h3>Comments</h3>
  </div>

  <div *ngIf="comments"
       class="mt-3">
    <div *ngFor="let comment of comments"
         class="mt-4 d-flex justify-content-between align-items-start">
      <div class="comment">
        <a class="h5"
           [routerLink]="['/users', comment.userId]">
          {{comment.username}}
        </a>
        <br>
        <span>{{comment.createdAt | date: 'MM-dd-yyyy HH:mm'}}</span>
        <app-score [readonly]="true"
                   [selectedScore]="comment.score"
                   class="mt-3"></app-score>
        <p class="h5">{{comment.commentText}}</p>
      </div>

      <ng-template #actionsPopContent>
        <div class="actions-container">
          <button class="btn"
                  (click)="openActionModal(deleteCommentModal, comment)">
            Delete
          </button>
        </div>
      </ng-template>

      <button type="button"
              class="btn actions-button"
              placement="bottom"
              [ngbPopover]="actionsPopContent">
        <i class="fa-solid fa-ellipsis"></i>
      </button>
    </div>

    <button *ngIf="hasNext"
            class="btn btn-outline-dark w-100"
            (click)="loadComments()">Load more...</button>
  </div>
</ng-container>

<ng-template #deleteCommentModal
             let-modal>
  <div class="modal-header">
    <h4 class="modal-title"
        id="modal-basic-title">
      Delete comment
    </h4>
    <button type="button"
            class="btn-close"
            aria-label="Close"
            (click)="modal.close()"></button>
  </div>
  <div class="modal-body">
    <span>Are you shure you want to delete comment?</span>
  </div>
  <div class="modal-footer d-flex justify-content-between">
    <button type="button"
            class="btn btn-outline"
            aria-label="Close"
            (click)="modal.close()">Cancel</button>
    <button type="button"
            class="btn default-btn-background"
            (click)="deleteComment(modal)">Delete</button>
  </div>
</ng-template>